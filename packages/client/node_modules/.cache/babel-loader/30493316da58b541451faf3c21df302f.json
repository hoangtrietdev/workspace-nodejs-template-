{"ast":null,"code":"var _jsxFileName = \"/Users/abc/Desktop/templateworkspace/packages/client/src/components/layout/sider/sider.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Layout as AntdLayout, Menu } from \"antd\";\nimport PreviewImage from \"../preview-images\";\nimport { routes } from \"../../../routes\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useMenu = () => {\n  return routes.reduce(function extractMenu(all, item) {\n    if (item.hideInMenu) {\n      return all;\n    }\n\n    if (item.children) {\n      const children = item.children.reduce(extractMenu, []);\n\n      if (children.length) {\n        all.push({ ...item,\n          children: item.children.reduce(extractMenu, [])\n        });\n      }\n    } else if (item.path) {\n      all.push(item);\n    }\n\n    return all;\n  }, []);\n};\n\nconst getMenuMap = menu => menu.reduce(function extractMenu(all, item) {\n  if (item.children) {\n    item.children.reduce(extractMenu, all);\n  } else {\n    var _item$path;\n\n    all[(_item$path = item.path) !== null && _item$path !== void 0 ? _item$path : \"\"] = item.name;\n  }\n\n  return all;\n}, {});\n\nconst Sider = () => {\n  _s();\n\n  const location = useLocation();\n  const [collapsed, setCollapsed] = useState(false);\n  const [selectedKeys, setSelectedKeys] = useState([]);\n  const menu = useMenu();\n  const menuMap = getMenuMap(menu);\n  useEffect(() => {\n    setSelectedKeys([menuMap[location.pathname]].filter(Boolean)); // eslint-disable-next-line\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(AntdLayout.Sider, {\n    className: \"shadow-sm\",\n    style: {\n      backgroundColor: '#ffffff'\n    },\n    collapsible: true,\n    collapsed: collapsed,\n    onCollapse: setCollapsed,\n    children: /*#__PURE__*/_jsxDEV(Menu, {\n      theme: \"dark\",\n      mode: \"inline\",\n      selectedKeys: selectedKeys,\n      children: [/*#__PURE__*/_jsxDEV(PreviewImage, {\n        hidden: collapsed,\n        width: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PreviewImage, {\n        hidden: !collapsed,\n        width: 80\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), menu.map(item => item.children ? /*#__PURE__*/_jsxDEV(Menu.SubMenu, {\n        title: item.title,\n        icon: item.icon,\n        children: item.children.map(child => /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: child.icon,\n          children: child.path && /*#__PURE__*/_jsxDEV(Link, {\n            to: child.path,\n            children: child.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 34\n          }, this)\n        }, child.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this))\n      }, item.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Menu.Item, {\n        icon: item.icon,\n        children: item.path && /*#__PURE__*/_jsxDEV(Link, {\n          to: item.path,\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this)\n      }, item.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Sider, \"bdUVKAtpnFLr1nXF1PSDf/ctjQ0=\", false, function () {\n  return [useLocation, useMenu];\n});\n\n_c = Sider;\nexport default Sider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sider\");","map":{"version":3,"sources":["/Users/abc/Desktop/templateworkspace/packages/client/src/components/layout/sider/sider.tsx"],"names":["React","useEffect","useState","Layout","AntdLayout","Menu","PreviewImage","routes","Link","useLocation","useMenu","reduce","extractMenu","all","item","hideInMenu","children","length","push","path","getMenuMap","menu","name","Sider","location","collapsed","setCollapsed","selectedKeys","setSelectedKeys","menuMap","pathname","filter","Boolean","backgroundColor","map","title","icon","child"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Layout as AntdLayout, Menu } from \"antd\";\nimport PreviewImage from \"../preview-images\";\nimport { RouteItem, routes } from \"../../../routes\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst useMenu = () => {\n  return routes.reduce<RouteItem[]>(function extractMenu(all, item) {\n    if (item.hideInMenu) {\n      return all;\n    }\n\n    if (item.children) {\n      const children = item.children.reduce(extractMenu, []);\n      if (children.length) {\n        all.push({\n          ...item,\n          children: item.children.reduce(extractMenu, []),\n        });\n      }\n    } else if (item.path) {\n      all.push(item);\n    }\n\n    return all;\n  }, []);\n};\n\nconst getMenuMap = (menu: RouteItem[]) =>\n  menu.reduce<Record<string, string>>(function extractMenu(all, item) {\n    if (item.children) {\n      item.children.reduce(extractMenu, all);\n    } else {\n      all[item.path ?? \"\"] = item.name;\n    }\n\n    return all;\n  }, {});\n\nconst Sider = () => {\n  const location = useLocation();\n  const [collapsed, setCollapsed] = useState(false);\n  const [selectedKeys, setSelectedKeys] = useState<string[]>([]);\n  const menu = useMenu();\n  const menuMap = getMenuMap(menu);\n\n  useEffect(() => {\n    setSelectedKeys([menuMap[location.pathname]].filter(Boolean));\n    // eslint-disable-next-line\n  }, [location]);\n\n  return (\n    <AntdLayout.Sider\n      className=\"shadow-sm\"\n      style={{ backgroundColor: '#ffffff' }}\n      collapsible\n      collapsed={collapsed}\n      onCollapse={setCollapsed}\n    >\n      <Menu theme=\"dark\" mode=\"inline\" selectedKeys={selectedKeys}>\n        <PreviewImage hidden={collapsed} width={200} />\n        <PreviewImage hidden={!collapsed} width={80} />\n        {menu.map((item) =>\n          item.children ? (\n            <Menu.SubMenu key={item.name} title={item.title} icon={item.icon}>\n              {item.children.map((child) => (\n                <Menu.Item key={child.name} icon={child.icon}>\n                  {child.path && <Link to={child.path}>{child.title}</Link>}\n                </Menu.Item>\n              ))}\n            </Menu.SubMenu>\n          ) : (\n            <Menu.Item key={item.name} icon={item.icon}>\n              {item.path && <Link to={item.path}>{item.title}</Link>}\n            </Menu.Item>\n          )\n        )}\n      </Menu>\n    </AntdLayout.Sider>\n  );\n};\n\nexport default Sider;\n"]},"metadata":{},"sourceType":"module"}