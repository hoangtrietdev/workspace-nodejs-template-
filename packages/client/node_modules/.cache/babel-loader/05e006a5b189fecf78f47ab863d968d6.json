{"ast":null,"code":"var _jsxFileName = \"/Users/abc/Desktop/templateworkspace/packages/client/src/pages/residences/residence.tsx\",\n    _s = $RefreshSig$();\n\nimport { PlusOutlined, ReloadOutlined } from \"@ant-design/icons\";\nimport { Image, Button, Card, Checkbox, Typography } from \"antd\";\nimport Table from \"antd/lib/table\";\nimport React from \"react\";\nimport { useSetRecoilState } from \"recoil\";\nimport { OrderDirection } from \"../../services/base/filter\";\nimport dayjs from \"../../utils/dayjs\";\nimport ResidentListAction from \"./actions\";\nimport { useResidencesContext } from \"./context\";\nimport ResidentModal from \"./modal\";\nimport { selectedResidentState, showResidentModalState } from \"./states\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PAGING_PAGE_SIZE = 10;\nconst columns = [{\n  title: \"Hình ảnh\",\n  dataIndex: \"image\",\n  key: \"image\",\n  align: \"center\",\n  render: (data, item) => {\n    if (data !== null && data.includes(\".png\")) {\n      const logo = require(`./images/${data}`);\n\n      return /*#__PURE__*/_jsxDEV(Image, {\n        src: logo.default\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }, this);\n    }\n  },\n  width: 100\n}, {\n  title: \"Họ và Tên\",\n  dataIndex: \"ho_ten\",\n  key: \"ho_ten\"\n}, {\n  title: \"Tuổi\",\n  dataIndex: \"age\",\n  key: \"age\"\n}, {\n  title: \"SHSQ\",\n  dataIndex: \"shsq\",\n  key: \"shsq\"\n}, {\n  title: \"Năm Sinh\",\n  dataIndex: \"nam_sinh\",\n  key: \"nam_sinh\",\n  render: value => {\n    if (value === null || value === undefined) {\n      return dayjs(\"0001/01/01\").format(\"DD/MM/YYYY\");\n    } else {\n      return dayjs(value).format(\"DD/MM/YYYY\");\n    }\n  }\n}, {\n  title: \"Quê Quán\",\n  dataIndex: \"que_quan\",\n  key: \"que_quan\"\n}, {\n  title: \"Trú Quán\",\n  dataIndex: \"tru_quan\",\n  key: \"tru_quan\"\n}, {\n  title: \"Địa Chỉ\",\n  dataIndex: \"dia_chi\",\n  key: \"dia_chi\"\n}, {\n  title: \"Văn Hoá\",\n  dataIndex: \"van_hoa\",\n  key: \"van_hoa\"\n}, {\n  title: \"Dân Tộc\",\n  dataIndex: \"dan_toc\",\n  key: \"dan_toc\"\n}, {\n  title: \"Đoàn Viên\",\n  dataIndex: \"doan_vien\",\n  key: \"doan_vien\",\n  render: (data, item) => /*#__PURE__*/_jsxDEV(Checkbox, {\n    checked: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 29\n  }, this)\n}, {\n  title: \"Đảng\",\n  dataIndex: \"dang\",\n  key: \"dang\",\n  render: (data, item) => /*#__PURE__*/_jsxDEV(Checkbox, {\n    checked: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 29\n  }, this)\n}, {\n  title: \"Ngày Vào Đảng\",\n  dataIndex: \"ngay_vao_dang\",\n  key: \"ngay_vao_dang\",\n  render: value => dayjs(value).format(\"DD/MM/YYYY\")\n}, {\n  title: \"Tôn Giáo\",\n  dataIndex: \"ton_giao\",\n  key: \"ton_giao\"\n}, {\n  title: \"Sức Khoẻ\",\n  dataIndex: \"suc_khoe\",\n  key: \"suc_khoe\"\n}, {\n  title: \"Nghề Nghiệp\",\n  dataIndex: \"nghe_nghiep\",\n  key: \"nghe_nghiep\"\n}, {\n  title: \"Nơi Làm Việc\",\n  dataIndex: \"noi_lam_viec\",\n  key: \"noi_lam_viec\"\n}, {\n  title: \"Số Điện Thoại\",\n  dataIndex: \"so_dien_thoai\",\n  key: \"so_dien_thoai\"\n}, // {\n//   title: \"Họ Tên Cha\",\n//   dataIndex: \"ho_ten_cha\",\n//   key: \"ho_ten_cha\",\n// },\n// {\n//   title: \"Họ Tên Mẹ\",\n//   dataIndex: \"ho_ten_me\",\n//   key: \"ho_ten_me\",\n// },\n// {\n//   title: \"Họ Tên Vợ\",\n//   dataIndex: \"ho_ten_vo\",\n//   key: \"ho_ten_vo\",\n// },\n// {\n//   title: \"Số con\",\n//   dataIndex: \"so_con\",\n//   key: \"so_con\",\n// },\n// {\n//   title: \"Thành Phần Xuất Thân\",\n//   dataIndex: \"thanh_phan_xuat_than\",\n//   key: \"thanh_phan_xuat_than\",\n// },\n{\n  title: \"Nhập Ngũ\",\n  dataIndex: \"nhap_ngu\",\n  key: \"nhap_ngu\",\n  render: value => dayjs(value).format(\"DD/MM/YYYY\")\n}, {\n  title: \"Xuất Ngũ\",\n  dataIndex: \"xuat_ngu\",\n  key: \"xuat_ngu\",\n  render: value => dayjs(value).format(\"DD/MM/YYYY\")\n}, {\n  title: \"Tên Đơn Vị\",\n  dataIndex: \"ten_don_vi\",\n  key: \"ten_don_vi\"\n}, {\n  title: \"Cấp Bậc\",\n  dataIndex: \"cap_bac\",\n  key: \"cap_bac\"\n}, {\n  title: \"Chức Vụ\",\n  dataIndex: \"chuc_vu\",\n  key: \"chuc_vu\"\n}, // {\n//   title: \"Ghi Chú\",\n//   dataIndex: \"ghi_chu\",\n//   key: \"ghi_chu\",\n// },\n{\n  title: \"\",\n  dataIndex: \"\",\n  key: \"action\",\n  render: (value, resident) => /*#__PURE__*/_jsxDEV(ResidentListAction, {\n    resident: resident\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 34\n  }, this),\n  width: 85,\n  align: \"right\"\n}];\n\nconst ResidenceList = () => {\n  _s();\n\n  const {\n    list\n  } = useResidencesContext();\n  const {\n    data,\n    total,\n    setSkip,\n    setTake,\n    setOrder,\n    fetch\n  } = list;\n  const setShowForm = useSetRecoilState(showResidentModalState);\n  const setSelectedResident = useSetRecoilState(selectedResidentState);\n\n  const handleAdd = () => {\n    setShowForm(true);\n    setSelectedResident(undefined);\n  };\n\n  const handleTableChange = (pageData, _, sorter) => {\n    const {\n      current,\n      pageSize\n    } = pageData;\n    const currentPage = current - 1;\n    setSkip(currentPage * (pageSize !== null && pageSize !== void 0 ? pageSize : PAGING_PAGE_SIZE));\n    setTake(pageSize);\n    const sortData = Array.isArray(sorter) ? sorter : [sorter];\n    const order = sortData.reduce((all, item) => {\n      if (item.field && item.order) {\n        all[item.field] = item.order === \"ascend\" ? OrderDirection.ASC : OrderDirection.DESC;\n      }\n\n      return all;\n    }, {});\n    setOrder(order);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"site-card-wrapper h-screen\",\n    style: {\n      padding: 24,\n      minHeight: 360\n    },\n    children: [/*#__PURE__*/_jsxDEV(ResidentModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      bordered: false,\n      bodyStyle: {\n        padding: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"1%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography.Title, {\n          level: 4,\n          children: [\"Danh s\\xE1ch\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto\",\n            style: {\n              marginLeft: \"90%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 23\n              }, this),\n              onClick: handleAdd,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReloadOutlined, {\n              onClick: fetch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        size: \"small\",\n        style: {\n          padding: \"1%\"\n        },\n        columns: columns,\n        rowKey: \"email\",\n        dataSource: data,\n        pagination: {\n          total\n        },\n        onChange: handleTableChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 244,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResidenceList, \"AnOyMMj5UHz/GIkplO/4KfIb/5c=\", false, function () {\n  return [useResidencesContext, useSetRecoilState, useSetRecoilState];\n});\n\n_c = ResidenceList;\nexport default ResidenceList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResidenceList\");","map":{"version":3,"sources":["/Users/abc/Desktop/templateworkspace/packages/client/src/pages/residences/residence.tsx"],"names":["PlusOutlined","ReloadOutlined","Image","Button","Card","Checkbox","Typography","Table","React","useSetRecoilState","OrderDirection","dayjs","ResidentListAction","useResidencesContext","ResidentModal","selectedResidentState","showResidentModalState","PAGING_PAGE_SIZE","columns","title","dataIndex","key","align","render","data","item","includes","logo","require","default","width","value","undefined","format","resident","ResidenceList","list","total","setSkip","setTake","setOrder","fetch","setShowForm","setSelectedResident","handleAdd","handleTableChange","pageData","_","sorter","current","pageSize","currentPage","sortData","Array","isArray","order","reduce","all","field","ASC","DESC","padding","minHeight","marginLeft"],"mappings":"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","sourcesContent":["import {\n  LockOutlined,\n  PlusOutlined,\n  ReloadOutlined,\n  UnlockTwoTone,\n} from \"@ant-design/icons\";\nimport {\n  Image,\n  Button,\n  Card,\n  Checkbox,\n  Col,\n  Descriptions,\n  Divider,\n  Row,\n  Typography,\n  Input,\n} from \"antd\";\nimport Table, { ColumnProps, TableProps } from \"antd/lib/table\";\nimport { SorterResult } from \"antd/lib/table/interface\";\nimport React, { FC } from \"react\";\nimport { useSetRecoilState } from \"recoil\";\nimport PreviewImage from \"../../components/layout/preview-images\";\nimport { FilterOrderOptions, OrderDirection } from \"../../services/base/filter\";\nimport { useResidentsList } from \"../../services/resident\";\nimport { Resident } from \"../../services/resident/model\";\nimport dayjs from \"../../utils/dayjs\";\nimport ResidentListAction from \"./actions\";\nimport { useResidencesContext } from \"./context\";\nimport ResidentModal from \"./modal\";\nimport { selectedResidentState, showResidentModalState } from \"./states\";\n\nexport const PAGING_PAGE_SIZE = 10;\n\nconst columns: Array<ColumnProps<Resident>> = [\n  {\n    title: \"Hình ảnh\",\n    dataIndex: \"image\",\n    key: \"image\",\n    align: \"center\",\n    render: (data: string, item) => {\n      if (data !== null && data.includes(\".png\")) {\n        const logo = require(`./images/${data}`);\n        return <Image src={logo.default} />;\n      }\n    },\n    width: 100,\n  },\n  {\n    title: \"Họ và Tên\",\n    dataIndex: \"ho_ten\",\n    key: \"ho_ten\",\n  },\n  {\n    title: \"Tuổi\",\n    dataIndex: \"age\",\n    key: \"age\",\n  },\n  {\n    title: \"SHSQ\",\n    dataIndex: \"shsq\",\n    key: \"shsq\",\n  },\n  {\n    title: \"Năm Sinh\",\n    dataIndex: \"nam_sinh\",\n    key: \"nam_sinh\",\n    render: (value) => {\n      if (value === null || value === undefined) {\n        return dayjs(\"0001/01/01\").format(\"DD/MM/YYYY\");\n      } else {\n        return dayjs(value).format(\"DD/MM/YYYY\");\n      }\n    },\n  },\n  {\n    title: \"Quê Quán\",\n    dataIndex: \"que_quan\",\n    key: \"que_quan\",\n  },\n  {\n    title: \"Trú Quán\",\n    dataIndex: \"tru_quan\",\n    key: \"tru_quan\",\n  },\n  {\n    title: \"Địa Chỉ\",\n    dataIndex: \"dia_chi\",\n    key: \"dia_chi\",\n  },\n  {\n    title: \"Văn Hoá\",\n    dataIndex: \"van_hoa\",\n    key: \"van_hoa\",\n  },\n  {\n    title: \"Dân Tộc\",\n    dataIndex: \"dan_toc\",\n    key: \"dan_toc\",\n  },\n  {\n    title: \"Đoàn Viên\",\n    dataIndex: \"doan_vien\",\n    key: \"doan_vien\",\n    render: (data, item) => <Checkbox checked={data} />,\n  },\n  {\n    title: \"Đảng\",\n    dataIndex: \"dang\",\n    key: \"dang\",\n    render: (data, item) => <Checkbox checked={data} />,\n  },\n  {\n    title: \"Ngày Vào Đảng\",\n    dataIndex: \"ngay_vao_dang\",\n    key: \"ngay_vao_dang\",\n    render: (value) => dayjs(value).format(\"DD/MM/YYYY\"),\n  },\n  {\n    title: \"Tôn Giáo\",\n    dataIndex: \"ton_giao\",\n    key: \"ton_giao\",\n  },\n  {\n    title: \"Sức Khoẻ\",\n    dataIndex: \"suc_khoe\",\n    key: \"suc_khoe\",\n  },\n  {\n    title: \"Nghề Nghiệp\",\n    dataIndex: \"nghe_nghiep\",\n    key: \"nghe_nghiep\",\n  },\n  {\n    title: \"Nơi Làm Việc\",\n    dataIndex: \"noi_lam_viec\",\n    key: \"noi_lam_viec\",\n  },\n  {\n    title: \"Số Điện Thoại\",\n    dataIndex: \"so_dien_thoai\",\n    key: \"so_dien_thoai\",\n  },\n  // {\n  //   title: \"Họ Tên Cha\",\n  //   dataIndex: \"ho_ten_cha\",\n  //   key: \"ho_ten_cha\",\n  // },\n  // {\n  //   title: \"Họ Tên Mẹ\",\n  //   dataIndex: \"ho_ten_me\",\n  //   key: \"ho_ten_me\",\n  // },\n  // {\n  //   title: \"Họ Tên Vợ\",\n  //   dataIndex: \"ho_ten_vo\",\n  //   key: \"ho_ten_vo\",\n  // },\n  // {\n  //   title: \"Số con\",\n  //   dataIndex: \"so_con\",\n  //   key: \"so_con\",\n  // },\n  // {\n  //   title: \"Thành Phần Xuất Thân\",\n  //   dataIndex: \"thanh_phan_xuat_than\",\n  //   key: \"thanh_phan_xuat_than\",\n  // },\n  {\n    title: \"Nhập Ngũ\",\n    dataIndex: \"nhap_ngu\",\n    key: \"nhap_ngu\",\n    render: (value) => dayjs(value).format(\"DD/MM/YYYY\"),\n  },\n  {\n    title: \"Xuất Ngũ\",\n    dataIndex: \"xuat_ngu\",\n    key: \"xuat_ngu\",\n    render: (value) => dayjs(value).format(\"DD/MM/YYYY\"),\n  },\n  {\n    title: \"Tên Đơn Vị\",\n    dataIndex: \"ten_don_vi\",\n    key: \"ten_don_vi\",\n  },\n  {\n    title: \"Cấp Bậc\",\n    dataIndex: \"cap_bac\",\n    key: \"cap_bac\",\n  },\n  {\n    title: \"Chức Vụ\",\n    dataIndex: \"chuc_vu\",\n    key: \"chuc_vu\",\n  },\n  // {\n  //   title: \"Ghi Chú\",\n  //   dataIndex: \"ghi_chu\",\n  //   key: \"ghi_chu\",\n  // },\n  {\n    title: \"\",\n    dataIndex: \"\",\n    key: \"action\",\n    render: (value, resident) => <ResidentListAction resident={resident} />,\n    width: 85,\n    align: \"right\",\n  },\n];\n\nconst ResidenceList: FC = () => {\n  const { list } = useResidencesContext();\n  const { data, total, setSkip, setTake, setOrder, fetch } = list;\n\n  const setShowForm = useSetRecoilState(showResidentModalState);\n  const setSelectedResident = useSetRecoilState(selectedResidentState);\n\n  const handleAdd = () => {\n    setShowForm(true);\n    setSelectedResident(undefined);\n  };\n\n  const handleTableChange: TableProps<Resident>[\"onChange\"] = (\n    pageData,\n    _,\n    sorter\n  ) => {\n    const { current, pageSize } = pageData;\n    const currentPage = (current as number) - 1;\n    setSkip(currentPage * (pageSize ?? PAGING_PAGE_SIZE));\n    setTake(pageSize);\n\n    const sortData = Array.isArray(sorter) ? sorter : [sorter];\n    const order = sortData.reduce<FilterOrderOptions>((all, item) => {\n      if (item.field && item.order) {\n        all[item.field as string] =\n          item.order === \"ascend\" ? OrderDirection.ASC : OrderDirection.DESC;\n      }\n      return all;\n    }, {});\n    setOrder(order);\n  };\n  return (\n    <div\n      className=\"site-card-wrapper h-screen\"\n      style={{ padding: 24, minHeight: 360 }}\n    >\n      <ResidentModal />\n      <Card bordered={false} bodyStyle={{ padding: 0 }}>\n        <div style={{ padding: \"1%\" }}>\n          <Typography.Title level={4}>\n            Danh sách\n            <span className=\"ml-auto\" style={{ marginLeft: \"90%\" }}>\n              <Button\n                type=\"primary\"\n                icon={<PlusOutlined />}\n                onClick={handleAdd}\n              >\n                Add\n              </Button>\n              <ReloadOutlined onClick={fetch} />\n            </span>\n          </Typography.Title>\n        </div>\n        <Table\n          size=\"small\"\n          style={{ padding: \"1%\" }}\n          columns={columns}\n          rowKey=\"email\"\n          dataSource={data}\n          pagination={{ total }}\n          onChange={handleTableChange}\n        />\n      </Card>\n    </div>\n  );\n};\n\nexport default ResidenceList;\n"]},"metadata":{},"sourceType":"module"}